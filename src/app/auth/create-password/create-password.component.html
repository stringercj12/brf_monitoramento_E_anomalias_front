<form [formGroup]="form" (ngSubmit)="toLogin()">

  <div class="input-group-icon">
    <label for="password">Nova senha</label>
    <app-icon icon="lock-password" class="icon"/>
    <input type="text" class="input-icon" id="password" placeholder="Crie uma nova senha" formControlName="password"
           [ngClass]="{'is-invalid': form.get('password')?.errors && form.get('password')?.touched}"/>
    <small class="invalid-feedback">
      <app-icon icon="road-sign-warning" class=""/>
      Mensagem de erro!
    </small>
  </div>
  <div class="input-group-icon">
    <label for="confirm_password">Repetir Senha</label>
    <app-icon icon="lock-password" class="icon"/>
    <input type="text" class="input-icon" id="confirm_password" placeholder="Repetir nova senha" formControlName="confirm_password"
           [ngClass]="{'is-invalid': (form.get('confirm_password')?.errors && form.get('confirm_password')?.touched || form.get('confirm_password')?.value != form.get('password')?.value)}"/>
    <small class="invalid-feedback">
      <app-icon icon="road-sign-warning" class=""/>
      Mensagem de erro!
    </small>
  </div>

  <button type="submit" class="btn btn-flex btn-primary" [disabled]="form.invalid">
    <span class="font-semibold">
     Confirmar nova senha
    </span>
    @if (loading) {
      <app-loading></app-loading>
    }
  </button>
</form>
